{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{url_for('static', filename='css/settings.css')}}">
{% endblock %}

{% block title %}Smart House - Modifica configurazione{% endblock %}

{% block page_content %}
<div class="user-dashboard">
    <h1>Modifica configurazione</h1>
    <div class="panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title">Dispositivo</h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-9 col-lg-9">
                    <table class="table table-user-information">
                        <tbody>
                            <tr>
                                <td>Nome dispositivo:</td>
                                <td>
                                <td>{{ deviceName|capitalize }}</td>
                                <td>
                                <td>
                                    <form action="edit-settings/set_name" method="POST">
                                        {{ deviceNameForm.hidden_tag() }}
                                        {{ deviceNameForm.deviceName.label }} {{ deviceNameForm.deviceName() }}
                                        {{ deviceNameForm.submit(class='btn btn-primary') }}
                                    </form>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="panel-heading middle-heading">
            <h3 class="panel-title">Canali supportati</h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-9 col-lg-9">
                    <table class="table table-user-information">
                        <tbody>
                            <tr>
                                <td>Digitali B (OUTPUT):</td>
                            </tr>
                            {% for switch in switch_B %}
                            <td>
                            <td>
                                {{ loop.index }}) {{ switch[0]|capitalize }}
                            </td>
                            <td>
                            <td>
                                <form action="edit-settings/set_channel_name:{{ deviceName }}:{{ switch[0] }}" method="POST">
                                    {{ channelNameForm.hidden_tag() }}
                                    {{ channelNameForm.channelName.label }} {{ channelNameForm.channelName() }}
                                    {{ channelNameForm.submit(class='btn btn-primary') }}
                                </form>
                            </td>
                            </tr>
                            {% endfor %}
                            </tr>
                            <tr>
                            <tr>
                                <td>Digitali L (OUTPUT):</td>
                            </tr>
                            {% for switch in switch_L %}
                            <td>
                            <td>
                                {{ loop.index }}) {{ switch|capitalize }}
                            </td>
                            <td>
                            <td>
                                <form action="edit-settings/set_channel_name:{{ deviceName }}:{{ switch }}" method="POST">
                                    {{ channelNameForm.hidden_tag() }}
                                    {{ channelNameForm.channelName.label }} {{ channelNameForm.channelName() }}
                                    {{ channelNameForm.submit(class='btn btn-primary') }}
                                </form>
                            </td>
                            </tr>
                            {% endfor %}
                            </tr>
                            <tr>
                                <td>Digitali C (INPUT):</td>
                            </tr>
                            {% for digital in digital_in %}
                            <td>
                            <td>
                                {{ loop.index }}) {{ digital|capitalize }}
                            </td>
                            <td>
                            <td>
                                <form action="edit-settings/set_channel_name:{{ deviceName }}:{{ switch }}" method="POST">
                                    {{ channelNameForm.hidden_tag() }}
                                    {{ channelNameForm.channelName.label }} {{ channelNameForm.channelName() }}
                                    {{ channelNameForm.submit(class='btn btn-primary') }}
                                </form>
                            </td>
                            </tr>
                            {% endfor %}
                            </tr>
                            <tr>
                                <td>Analogici (INPUT):</td>
                            </tr>
                            {% for analog in analog_in %}
                            <td>
                            <td>
                                {{ loop.index }}) {{ analog|capitalize }}
                            </td>
                            <td>
                            <td>
                                <form action="edit-settings/set_channel_name:{{ deviceName }}:{{ switch }}" method="POST">
                                    {{ channelNameForm.hidden_tag() }}
                                    {{ channelNameForm.channelName.label }} {{ channelNameForm.channelName() }}
                                    {{ channelNameForm.submit(class='btn btn-primary') }}
                                </form>
                            </td>
                            </tr>
                            {% endfor %}
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <div class="row">
                <span class="pull-right">
                    <a href="/settings" data-original-title="Indietro" data-toggle="tooltip"
                        type="button" class="btn btn-sm btn-danger"><i class="glyphicon glyphicon-remove"></i></a>
                </span>
            </div>
        </div>
    </div>
</div>
{% endblock %}